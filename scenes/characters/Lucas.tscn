[gd_scene load_steps=22 format=3 uid="uid://c64uyet6kxmge"]

[ext_resource type="Script" path="res://src/Core/Characters/Player.cs" id="1"]
[ext_resource type="Environment" uid="uid://c2tgto0rwklep" path="res://default_env.tres" id="1_6p4mq"]
[ext_resource type="PackedScene" uid="uid://03a6w53ynugn" path="res://models/characters/Lucas/Lucas.glb" id="2"]
[ext_resource type="Script" path="res://src/Core/Characters/SkeletonIK.cs" id="3"]
[ext_resource type="Script" path="res://src/Core/Audio/SfxOptions.cs" id="4"]
[ext_resource type="PackedScene" uid="uid://oy5ah1pbt6f1" path="res://models/grey_backpack/scene.gltf" id="5"]
[ext_resource type="PackedScene" uid="uid://bhbtygjub26k7" path="res://scenes/Phone.tscn" id="5_w24i4"]
[ext_resource type="PackedScene" path="res://scenes/characters/FootstepSensor.tscn" id="6"]
[ext_resource type="Resource" path="res://resources/player_screams.tres" id="7"]
[ext_resource type="Resource" path="res://resources/punch_streams.tres" id="8"]
[ext_resource type="PackedScene" uid="uid://cpib7g37qi4w2" path="res://scenes/vfx/BloodHitParticles.tscn" id="9"]
[ext_resource type="Resource" path="res://resources/player_pain_scream_streams.tres" id="10"]
[ext_resource type="AnimationNodeBlendTree" uid="uid://b2wsqwobrspca" path="res://assets/animations/LucasBlendAnimations.tres" id="11_0cuh3"]

[sub_resource type="CapsuleShape3D" id="21"]
radius = 2.78499
height = 18.4069

[sub_resource type="CapsuleShape3D" id="34"]
radius = 2.78499
height = 9.76339

[sub_resource type="Animation" id="33"]
resource_name = "shoot_pistol_recoil"
length = 0.25
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("LookAtAim:rotation_degrees")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0.00493959, 0.0386935, 0.248626),
"transitions": PackedFloat32Array(1, 1, 1),
"update": 0,
"values": [Vector3(4.02173, 84.6213, 88.9135), Vector3(2.22339, 83.6649, 71.4924), Vector3(4.02173, 84.6213, 88.9135)]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_4fs1d"]
_data = {
"shoot_pistol_recoil": SubResource("33")
}

[sub_resource type="StandardMaterial3D" id="22"]
albedo_color = Color(0.185791, 0.09375, 1, 1)

[sub_resource type="BoxMesh" id="23"]
size = Vector3(0.4, 0.4, 5)

[sub_resource type="StandardMaterial3D" id="24"]
albedo_color = Color(0.0117647, 0.258824, 1, 1)

[sub_resource type="PrismMesh" id="25"]
size = Vector3(1, 1, 0.5)

[node name="Lucas" type="Node3D"]

[node name="Head" type="Marker3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 16.031, 0)

[node name="LookAt" type="Marker3D" parent="Head"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.55759, 7.36121)

[node name="Camera3D" type="Camera3D" parent="Head"]
transform = Transform3D(-1, 0, 8.74228e-08, 0, 1, 0, -8.74228e-08, 0, -1, -3.11192, 0.441399, -4.73348)
cull_mask = 1048063
environment = ExtResource("1_6p4mq")
current = true
fov = 80.0
far = 300.0

[node name="SpotLight3D" type="SpotLight3D" parent="Head"]
transform = Transform3D(-0.987876, 0, -0.155245, 0, 1, 0, 0.155245, 0, -0.987876, -5.59378, -1.20752, -17.5331)
light_energy = 0.5
light_indirect_energy = 0.0
light_volumetric_fog_energy = 0.0
light_cull_mask = 4293918722
spot_range = 26.2729
spot_angle = 40.191

[node name="Body" type="CharacterBody3D" parent="."]
collision_layer = 1025
collision_mask = 540685
slide_on_ceiling = false
floor_stop_on_slope = false
floor_constant_speed = true
floor_block_on_wall = false
script = ExtResource("1")
animationTreePath = NodePath("AnimationTree")
speed = 6.5
sprintSpeedMultiplier = 2.2
crouchSpeedMultiplier = 0.6
jumpVelocity = 150.0
cameraPath = NodePath("../Head/Camera3D")
lookAtPath = NodePath("../Head/LookAt")
skeletonIkRightHandPath = NodePath("Lucas/Armature/Skeleton3D/SkeletonIKRightHand")
skeletonIkRightHandCodePath = NodePath("Lucas/Armature/Skeleton3D/SkeletonIKRightHandCode")
skeletonIkLeftHandPath = NodePath("Lucas/Armature/Skeleton3D/SkeletonIKLeftHand")
lookAtRightPath = NodePath("Pivot/LookAtRight")
pivotPath = NodePath("Pivot")
lookAtAimPath = NodePath("Pivot/LookAtAim")
lookAtHeadPath = NodePath("Lucas/Armature/Skeleton3D/Spine/LookAtHead")
itemSlotRightPath = NodePath("Lucas/Armature/Skeleton3D/RightHand/WeaponSlot")
handPivotsAnimPlayerPath = NodePath("Pivot/HandPivotAnims")
buttBlowingTime = 2.45
knifeAttackTime = 2.0
standShapePath = NodePath("Stand")
crouchShapePath = NodePath("Crouch")
verticalDisplacementCrouch = 1.5
aimRayPath = NodePath("Pivot/AimRay")
topRayPath = NodePath("RayCastsOrigin/Top")
bottomRayPath = NodePath("RayCastsOrigin/Bottom")
rightRayPath = NodePath("RayCastsOrigin/Right")
leftRayPath = NodePath("RayCastsOrigin/Left")
forwardRayPath = NodePath("RayCastsOrigin/Forward")
backwardRayPath = NodePath("RayCastsOrigin/Backward")
checkFloorRayPath = NodePath("RayCastsOrigin/CheckFloor")
clipPivotPath = NodePath("Lucas/Armature/Skeleton3D/LeftHand/ClipPivot")
lightLevelPosPath = NodePath("Pivot/LightLevelPos")
phonePath = NodePath("Lucas/Armature/Skeleton3D/Spine/FlashlightSlot/Phone")
flashLightSlotPath = NodePath("Lucas/Armature/Skeleton3D/Spine/FlashlightSlot")
flashLightHandSlotPath = NodePath("Lucas/Armature/Skeleton3D/RightHand/FlashlightSlot")
defaultStaminaVariation = 0.001
cooldownRegenerateStamine = 2.0
collisionMaskItemsRay = 573600
backpackPath = NodePath("Lucas/Armature/Skeleton3D/Neck/BackpackSlot/scene")
neckBackpackSlotPath = NodePath("Lucas/Armature/Skeleton3D/Neck/BackpackSlot")
handBackpackSlotPath = NodePath("Lucas/Armature/Skeleton3D/LeftHand2/BackpackSlot")
sfxPath = NodePath("Sfx")
bloodParticles = ExtResource("9")

[node name="Stand" type="CollisionShape3D" parent="Body"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 9.30392, 0)
shape = SubResource("21")

[node name="Crouch" type="CollisionShape3D" parent="Body"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 4.95872, 0)
shape = SubResource("34")
disabled = true

[node name="Pivot" type="Marker3D" parent="Body"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 16.3472, 0)

[node name="AimRay" type="RayCast3D" parent="Body/Pivot"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 1.64841)
target_position = Vector3(0, 0, 7)
collision_mask = 524300
debug_shape_custom_color = Color(0.905882, 0, 0, 1)
debug_shape_thickness = 5

[node name="LookAtRight" type="Marker3D" parent="Body/Pivot"]
transform = Transform3D(0.15311, 0.106969, 0.982402, 0.961209, -0.24691, -0.122923, 0.229415, 0.963117, -0.140624, -2.94814, -3.26753, 4.00611)

[node name="LookAtLeft" type="Marker3D" parent="Body/Pivot"]
transform = Transform3D(0.0188783, -0.837862, -0.545556, -0.9722, 0.111988, -0.205633, 0.233388, 0.534272, -0.812455, 0.444237, -1.65241, 3.8607)

[node name="LookAtAim" type="Marker3D" parent="Body/Pivot"]
transform = Transform3D(0.0715908, -0.0923972, 0.993143, 0.997356, 0.0189152, -0.0701347, -0.0123053, 0.995541, 0.0935073, -2.29271, -0.195612, 3.22944)

[node name="InverseLookAtAim" type="Marker3D" parent="Body/Pivot/LookAtAim"]
transform = Transform3D(1, -9.31323e-10, -4.00469e-08, -1.86265e-09, 1, 2.98023e-08, 2.20025e-08, -8.9407e-08, 1, 1.96105, -9.76356, 4.60624)

[node name="LeftHandPistol" type="Marker3D" parent="Body/Pivot/LookAtAim"]
transform = Transform3D(-0.832238, 0.0104354, 0.554338, -0.404292, 0.672772, -0.619634, -0.379403, -0.739785, -0.555681, -0.194222, 0.0363047, 0.447752)

[node name="LightLevelPos" type="Marker3D" parent="Body/Pivot"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 2.27516, 0)

[node name="HandPivotAnims" type="AnimationPlayer" parent="Body/Pivot"]
libraries = {
"": SubResource("AnimationLibrary_4fs1d")
}

[node name="Lucas" parent="Body" instance=ExtResource("2")]
transform = Transform3D(0.11, 0, 0, 0, 0.11, 0, 0, 0, 0.11, 0, 0.321507, 0)

[node name="Skeleton3D" parent="Body/Lucas/Armature" index="0"]
bones/0/position = Vector3(-120.368, 130.636, -8992.5)
bones/0/rotation = Quaternion(-0.714908, -0.000183426, -0.00487308, 0.699201)
bones/1/position = Vector3(-1.52588e-05, 1006.05, -122.966)
bones/1/rotation = Quaternion(-0.0556255, -0.00115471, -5.78541e-05, 0.998451)
bones/2/position = Vector3(7.27596e-12, 1182.46, -0.000126562)
bones/2/rotation = Quaternion(0.00282751, -0.0211759, -0.000539355, 0.999772)
bones/3/position = Vector3(1.28023e-06, 1351.39, 4.981e-05)
bones/3/rotation = Quaternion(0.00274815, -0.0211737, -0.000311553, 0.999772)
bones/4/position = Vector3(-8.05666e-06, 1520.31, -7.55442e-05)
bones/4/rotation = Quaternion(0.0338633, 0.0112071, -0.0198563, 0.999166)
bones/5/position = Vector3(0.000125437, 686.212, 265.073)
bones/5/rotation = Quaternion(0.0538286, -0.0121289, 0.0174664, 0.998324)
bones/6/position = Vector3(2.45117e-08, 2159.22, 834.073)
bones/7/position = Vector3(595.524, 1340.67, -20.8466)
bones/7/rotation = Quaternion(0.504332, 0.47007, -0.598603, 0.407871)
bones/8/position = Vector3(6.29227e-05, 1249.63, 0.000122739)
bones/8/rotation = Quaternion(0.480105, 0.13875, 0.05029, 0.864707)
bones/9/position = Vector3(5.28448e-06, 2250.39, 0.00036131)
bones/9/rotation = Quaternion(0.0306364, -0.00370349, 0.253652, 0.966803)
bones/10/position = Vector3(1.20732e-05, 2525.99, -0.000566408)
bones/10/rotation = Quaternion(0.0950123, 0.145156, -0.184187, 0.967459)
bones/11/position = Vector3(-220.087, 286.299, 136.771)
bones/11/rotation = Quaternion(0.144259, -0.0450387, 0.202336, 0.967585)
bones/12/position = Vector3(-4.90329, 308.881, 0.000168831)
bones/12/rotation = Quaternion(0.0147042, 0.0232805, -0.0994022, 0.994666)
bones/13/position = Vector3(17.9835, 299.185, -0.000919071)
bones/13/rotation = Quaternion(-0.0229233, -5.46358e-05, -0.0766264, 0.996796)
bones/14/position = Vector3(-13.0811, 259.404, 0.00114356)
bones/15/position = Vector3(-281.165, 915.961, -3.98534)
bones/15/rotation = Quaternion(0.188935, 0.00775549, 0.0420601, 0.981058)
bones/16/position = Vector3(0.326644, 265.623, 0.000549611)
bones/16/rotation = Quaternion(0.284669, -0.000708801, -0.0286404, 0.958198)
bones/17/position = Vector3(1.04709, 244.744, -0.00167741)
bones/17/rotation = Quaternion(0.143452, 0.000227986, -0.0203023, 0.989449)
bones/18/position = Vector3(-1.3744, 223.404, -0.00333971)
bones/19/position = Vector3(-95.4671, 933.786, -21.8302)
bones/19/rotation = Quaternion(0.238316, 0.00928319, 0.0316961, 0.970626)
bones/20/position = Vector3(-0.241196, 293.659, -0.000837455)
bones/20/rotation = Quaternion(0.191199, -7.68034e-05, -0.0194678, 0.981358)
bones/21/position = Vector3(0.474235, 273.341, -0.000848232)
bones/21/rotation = Quaternion(0.123889, -5.89869e-05, -0.0147555, 0.992186)
bones/22/position = Vector3(-0.232569, 247.449, 0.00117516)
bones/23/position = Vector3(94.7506, 953.404, -13.9256)
bones/23/rotation = Quaternion(0.283226, 0.00785901, 0.0363691, 0.958331)
bones/24/position = Vector3(-1.0853, 261.414, 0.000160083)
bones/24/rotation = Quaternion(0.141842, 0.000678508, -0.01587, 0.989762)
bones/25/position = Vector3(-1.26549, 252.186, -5.29721e-05)
bones/25/rotation = Quaternion(0.0935374, 0.000155061, -0.00207555, 0.995614)
bones/26/position = Vector3(2.35127, 210.387, -0.000144959)
bones/27/position = Vector3(281.882, 877.244, 2.17954)
bones/27/rotation = Quaternion(0.38504, 0.0252686, -0.0122678, 0.922473)
bones/28/position = Vector3(0.283479, 270.77, 0.000493876)
bones/28/rotation = Quaternion(0.179817, 0.00618013, 0.0153016, 0.983562)
bones/29/position = Vector3(0.0767735, 217.652, 0.000909301)
bones/29/rotation = Quaternion(0.0668845, 6.60773e-05, -0.00844026, 0.997725)
bones/30/position = Vector3(-0.360204, 188.59, 0.0012602)
bones/31/position = Vector3(0.000160622, 832.564, -0.000162287)
bones/32/position = Vector3(-595.525, 1340.94, -23.0339)
bones/32/rotation = Quaternion(0.534699, -0.461505, 0.551356, 0.443978)
bones/33/position = Vector3(-5.34058e-05, 1249.63, 1.14441e-05)
bones/33/rotation = Quaternion(0.504867, -0.139047, -0.106348, 0.845261)
bones/34/position = Vector3(6.28457e-05, 2249.95, -0.00208395)
bones/34/rotation = Quaternion(0.0273872, 0.0033634, -0.223999, 0.974199)
bones/35/position = Vector3(8.23704e-05, 2524.59, 0.000755993)
bones/35/rotation = Quaternion(0.00243359, -0.049853, 0.178218, 0.982724)
bones/36/position = Vector3(213.438, 301.094, 153.049)
bones/36/rotation = Quaternion(0.167362, -0.105875, -0.0412451, 0.979326)
bones/37/position = Vector3(17.0005, 319.185, -0.000671032)
bones/37/rotation = Quaternion(0.0188508, -0.0201323, -0.0263106, 0.999273)
bones/38/position = Vector3(-0.690526, 313.522, 0.000288538)
bones/38/rotation = Quaternion(-0.0332694, -0.000603649, -0.0504518, 0.998172)
bones/39/position = Vector3(-16.3108, 267.712, 0.00177854)
bones/40/position = Vector3(278.413, 910.196, 13.4151)
bones/40/rotation = Quaternion(0.0811417, -0.00652541, -0.00708543, 0.996656)
bones/41/position = Vector3(-0.384689, 267.557, -0.00165482)
bones/41/rotation = Quaternion(0.321444, 0.000967127, 0.0336777, 0.946329)
bones/42/position = Vector3(-1.25807, 248.598, -0.00161678)
bones/42/rotation = Quaternion(0.0764447, -0.000202777, 0.0146395, 0.996966)
bones/43/position = Vector3(1.64319, 220.417, 0.00146946)
bones/44/position = Vector3(95.4694, 970.319, -15.5462)
bones/44/rotation = Quaternion(0.175929, -0.0171798, 0.0173573, 0.9841)
bones/45/position = Vector3(1.19108, 281.675, 0.00120616)
bones/45/rotation = Quaternion(0.230928, -0.000364881, 0.0229459, 0.9727)
bones/46/position = Vector3(-0.133515, 263.697, -0.00150928)
bones/46/rotation = Quaternion(0.0477672, 0.016147, 0.00399146, 0.99872)
bones/47/position = Vector3(-1.0571, 232.498, 0.0014709)
bones/48/position = Vector3(-91.7756, 978.93, -3.715)
bones/48/rotation = Quaternion(0.254197, -0.0184076, 0.00112626, 0.966977)
bones/49/position = Vector3(1.56572, 244.55, -0.000772296)
bones/49/rotation = Quaternion(0.163662, -0.000451237, 0.0150994, 0.986401)
bones/50/position = Vector3(0.269738, 249.623, -0.000647766)
bones/50/rotation = Quaternion(0.0711908, 0.0186845, 0.00413186, 0.997279)
bones/51/position = Vector3(-1.83566, 208.438, -0.00285945)
bones/52/position = Vector3(-282.107, 890.4, 16.2553)
bones/52/rotation = Quaternion(0.310511, -0.0264869, 0.022156, 0.949943)
bones/53/position = Vector3(0.378742, 258.589, -0.000253972)
bones/53/rotation = Quaternion(0.130277, -0.000504451, 0.0159872, 0.991349)
bones/54/position = Vector3(1.09659, 218.755, -0.000263469)
bones/54/rotation = Quaternion(0.0613797, -5.63726e-05, 0.000130025, 0.998115)
bones/55/position = Vector3(-1.47541, 181.373, -0.000500319)
bones/56/position = Vector3(1.55773e-05, 848.796, -0.00016815)
bones/57/position = Vector3(700.294, -558.951, -40.0304)
bones/57/rotation = Quaternion(0.04134, 0.0505206, 0.997324, -0.0329071)
bones/58/position = Vector3(0.000271007, 4012.74, 7.43929e-05)
bones/58/rotation = Quaternion(-0.167618, -0.0775177, -0.00458107, 0.982789)
bones/59/position = Vector3(-0.000106759, 3688.2, 6.57901e-05)
bones/59/rotation = Quaternion(0.591791, -0.047124, -0.0163077, 0.804548)
bones/60/position = Vector3(-0.000105696, 1542.23, 3.1974e-05)
bones/60/rotation = Quaternion(0.265913, -0.0764032, 0.0200039, 0.960756)
bones/61/position = Vector3(0.000120163, 672.27, -3.81477e-06)
bones/62/position = Vector3(-700.294, -558.951, -28.3863)
bones/62/rotation = Quaternion(-0.119133, 0.0557678, 0.989897, 0.0529227)
bones/63/position = Vector3(-0.000168861, 4010.61, -0.000112016)
bones/63/rotation = Quaternion(-0.147902, 0.0390662, 0.0117488, 0.98816)
bones/64/position = Vector3(-0.000102274, 3689.84, 6.87195e-05)
bones/64/rotation = Quaternion(0.572447, 0.0733478, 0.0123643, 0.816561)
bones/65/position = Vector3(-3.46111e-05, 1592.5, 0.000358677)
bones/65/rotation = Quaternion(0.252171, 0.0797718, -0.0208646, 0.964164)
bones/66/position = Vector3(-1.90735e-05, 676.781, 2.28882e-05)

[node name="Model Lucas 1" parent="Body/Lucas/Armature/Skeleton3D" index="0"]
layers = 2

[node name="Spine" type="BoneAttachment3D" parent="Body/Lucas/Armature/Skeleton3D" index="1"]
transform = Transform3D(0.996801, 0.0078204, -0.0795449, 0.0799041, -0.122043, 0.989303, -0.00197119, -0.992494, -0.122278, -96.1892, -344.442, -12507.8)
bone_name = "mixamorig_Spine2"
bone_idx = 3

[node name="LookAtHead" type="Marker3D" parent="Body/Lucas/Armature/Skeleton3D/Spine"]
transform = Transform3D(906.171, 68.0348, -25.9147, -66.3348, 904.925, 56.171, 29.9997, -54.0997, 906.983, 66.1905, 1916.6, 211.217)

[node name="FlashlightSlot" type="Node3D" parent="Body/Lucas/Armature/Skeleton3D/Spine"]
transform = Transform3D(162.033, 4.01957, 51.2741, -9.02196, 169.073, 15.2564, -50.634, -17.2624, 161.363, 1126.19, -439.892, 1348.44)

[node name="Phone" parent="Body/Lucas/Armature/Skeleton3D/Spine/FlashlightSlot" instance=ExtResource("5_w24i4")]

[node name="LeftFoot" type="BoneAttachment3D" parent="Body/Lucas/Armature/Skeleton3D" index="2"]
transform = Transform3D(-0.910607, 0.390526, 0.135218, 0.381806, 0.920197, -0.0864185, -0.158176, -0.0270667, -0.987041, 1230.4, 1093.16, -97.858)
bone_name = "mixamorig_LeftToeBase"
bone_idx = 60

[node name="FootstepSensor" parent="Body/Lucas/Armature/Skeleton3D/LeftFoot" instance=ExtResource("6")]
playerPath = NodePath("../../../../..")
foot = 1

[node name="RightFoot" type="BoneAttachment3D" parent="Body/Lucas/Armature/Skeleton3D" index="3"]
transform = Transform3D(-0.857485, -0.496607, -0.134542, -0.48771, 0.867844, -0.0949064, 0.163892, -0.0157659, -0.986353, -1983.74, 1300.91, -97.8983)
bone_name = "mixamorig_RightToeBase"
bone_idx = 65

[node name="FootstepSensor" parent="Body/Lucas/Armature/Skeleton3D/RightFoot" instance=ExtResource("6")]
playerPath = NodePath("../../../../..")

[node name="Neck" type="BoneAttachment3D" parent="Body/Lucas/Armature/Skeleton3D" index="4"]
transform = Transform3D(0.996801, 0.0078204, -0.0795449, 0.0799041, -0.122043, 0.989303, -0.00197119, -0.992494, -0.122278, -96.1892, -344.442, -12507.8)
bone_name = "mixamorig_Spine2"
bone_idx = 3

[node name="BackpackSlot" type="Marker3D" parent="Body/Lucas/Armature/Skeleton3D/Neck"]
transform = Transform3D(-1318.68, 420.436, 7879.38, -2418.01, 7582.77, -809.285, -7510.96, -2514.94, -1122.83, -77, -2974.79, -827.641)

[node name="scene" parent="Body/Lucas/Armature/Skeleton3D/Neck/BackpackSlot" instance=ExtResource("5")]

[node name="backback_Material_0" parent="Body/Lucas/Armature/Skeleton3D/Neck/BackpackSlot/scene/Sketchfab_model/backpackfbx/RootNode/backback" index="0"]
layers = 2

[node name="RightHand" type="BoneAttachment3D" parent="Body/Lucas/Armature/Skeleton3D" index="5"]
transform = Transform3D(0.071591, -0.0923973, 0.993145, -0.0123054, 0.995542, 0.0935074, -0.997358, -0.0189154, 0.0701349, -2084.28, 2935.86, -14391)
bone_name = "mixamorig_RightHand"
bone_idx = 35

[node name="WeaponSlot" type="Node3D" parent="Body/Lucas/Armature/Skeleton3D/RightHand"]
transform = Transform3D(-4.72069e-05, 1200, 5.34058e-05, 3.05176e-05, -5.34058e-05, 1200, 1200, 6.24657e-05, -1.52588e-05, 426.107, 1341.77, 213.465)

[node name="FlashlightSlot" type="Node3D" parent="Body/Lucas/Armature/Skeleton3D/RightHand"]
transform = Transform3D(4.8603, 168.516, -21.8849, 29.0559, 20.7473, 166.209, 167.428, -8.49242, -28.2091, 145.808, 1219.67, 586.048)

[node name="LeftHand" type="BoneAttachment3D" parent="Body/Lucas/Armature/Skeleton3D" index="6"]
transform = Transform3D(0.576403, -0.735561, -0.355962, -0.814451, -0.481646, -0.323551, 0.0665441, 0.47641, -0.876701, 2355.85, 1084.77, -7859.59)
bone_name = "mixamorig_LeftHandIndex4"
bone_idx = 18

[node name="ClipPivot" type="Marker3D" parent="Body/Lucas/Armature/Skeleton3D/LeftHand"]
transform = Transform3D(-225.003, -578.578, -783.978, -954.303, 293.264, 57.4563, 196.67, 761.08, -618.125, 279.119, -286.729, 14.543)

[node name="LeftHand2" type="BoneAttachment3D" parent="Body/Lucas/Armature/Skeleton3D" index="7"]
transform = Transform3D(0.515823, 0.112483, -0.849279, -0.854802, 0.133447, -0.501504, 0.0569229, 0.984651, 0.164986, 2779.28, 908.892, -9280.3)
bone_name = "mixamorig_LeftHand"
bone_idx = 10

[node name="BackpackSlot" type="Marker3D" parent="Body/Lucas/Armature/Skeleton3D/LeftHand2"]
transform = Transform3D(4462.58, 21.0363, 6639.69, -1801.6, -7696.03, 1235.25, 6390.62, -2184.29, -4288.25, 161.622, 4773.22, 1090.14)

[node name="SkeletonIKRightHand" type="SkeletonIK3D" parent="Body/Lucas/Armature/Skeleton3D" index="8"]
process_priority = 1
root_bone = &"mixamorig_RightArm"
tip_bone = &"mixamorig_RightHand"
interpolation = 0.0
use_magnet = true
magnet = Vector3(-12000, 0, 10000)
target_node = NodePath("../../../../Pivot/LookAtRight")
min_distance = 10.0
max_iterations = 15
script = ExtResource("3")

[node name="SkeletonIKRightHandCode" type="SkeletonIK3D" parent="Body/Lucas/Armature/Skeleton3D" index="9"]
process_priority = 1
root_bone = &"mixamorig_RightArm"
tip_bone = &"mixamorig_RightHand"
use_magnet = true
magnet = Vector3(-12000, 0, 0)
target_node = NodePath("../../../../Pivot/LookAtAim")
script = ExtResource("3")

[node name="SkeletonIKLeftHand" type="SkeletonIK3D" parent="Body/Lucas/Armature/Skeleton3D" index="10"]
process_priority = 1
root_bone = &"mixamorig_LeftArm"
tip_bone = &"mixamorig_LeftHand"
interpolation = 0.0
use_magnet = true
magnet = Vector3(60000, 0, 30000)
target_node = NodePath("../../../../Pivot/LookAtAim/LeftHandPistol")
script = ExtResource("3")

[node name="SkeletonIKNeck" type="SkeletonIK3D" parent="Body/Lucas/Armature/Skeleton3D" index="11"]
process_priority = 1
root_bone = &"mixamorig_Neck"
tip_bone = &"mixamorig_Head"
use_magnet = true
target_node = NodePath("../Spine/LookAtHead")
script = ExtResource("3")

[node name="DebugDirection" type="Node3D" parent="Body"]
visible = false

[node name="CSGMesh3D" type="CSGMesh3D" parent="Body/DebugDirection"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 10.8735, 5.77634)
material_override = SubResource("22")
mesh = SubResource("23")

[node name="CSGMesh2" type="CSGMesh3D" parent="Body/DebugDirection"]
transform = Transform3D(1, 0, 0, 0, -4.37114e-08, -1, 0, 1, -4.37114e-08, 0, 10.8735, 8.70304)
material_override = SubResource("24")
mesh = SubResource("25")

[node name="RayCastsOrigin" type="Marker3D" parent="Body"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 6.6971, 0)

[node name="Bottom" type="RayCast3D" parent="Body/RayCastsOrigin"]
target_position = Vector3(0, -15, 0)
collision_mask = 524296
debug_shape_custom_color = Color(1, 0, 0, 1)
debug_shape_thickness = 5

[node name="CheckFloor" type="RayCast3D" parent="Body/RayCastsOrigin"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -5.70262, 0)
target_position = Vector3(0, 0, 5)
collision_mask = 8
debug_shape_custom_color = Color(1, 0, 0, 1)
debug_shape_thickness = 5

[node name="Top" type="RayCast3D" parent="Body/RayCastsOrigin"]
target_position = Vector3(0, 150, 0)
collision_mask = 524296
debug_shape_custom_color = Color(0.921569, 0, 1, 1)
debug_shape_thickness = 5

[node name="Right" type="RayCast3D" parent="Body/RayCastsOrigin"]
target_position = Vector3(-150, 0, 0)
collision_mask = 524296
debug_shape_custom_color = Color(0.992157, 1, 0.027451, 1)
debug_shape_thickness = 5

[node name="Left" type="RayCast3D" parent="Body/RayCastsOrigin"]
target_position = Vector3(150, -1, 0)
collision_mask = 524296
debug_shape_custom_color = Color(0, 0.0156863, 1, 1)

[node name="Forward" type="RayCast3D" parent="Body/RayCastsOrigin"]
target_position = Vector3(0, 0, 150)
collision_mask = 524296
debug_shape_custom_color = Color(0.0431373, 1, 0.12549, 1)

[node name="Backward" type="RayCast3D" parent="Body/RayCastsOrigin"]
target_position = Vector3(0, 0, -150)
collision_mask = 524296
debug_shape_custom_color = Color(0, 0.952941, 1, 1)

[node name="Sfx" type="Node3D" parent="Body"]
script = ExtResource("4")
streamsCategory = {
"pain_scream": ExtResource("10"),
"punch": ExtResource("8"),
"scream": ExtResource("7")
}

[node name="AnimationTree" type="AnimationTree" parent="Body"]
tree_root = ExtResource("11_0cuh3")
anim_player = NodePath("../Lucas/AnimationPlayer")
active = true
parameters/blend/blend_amount = 0
parameters/blend_crouch/blend_amount = 0.0
parameters/blend_knife/blend_amount = 0
parameters/blend_pistol_aim/blend_amount = 0.0
parameters/butt_blow_pistol/active = false
parameters/butt_blow_pistol/internal_active = false
parameters/butt_blow_pistol/request = 0
parameters/crouch_motion_blend/blend_position = Vector2(0, 0)
parameters/idle_backpack/blend_amount = 0.0
parameters/knife_attack/active = false
parameters/knife_attack/internal_active = false
parameters/knife_attack/request = 0
parameters/motion_blend/blend_amount = 0
parameters/motion_blend_space/blend_position = Vector2(0, 0)
parameters/reload_pistol/active = false
parameters/reload_pistol/internal_active = false
parameters/reload_pistol/request = 0
parameters/shot_pistol/active = false
parameters/shot_pistol/internal_active = false
parameters/shot_pistol/request = 0
parameters/state/current_state = "default"
parameters/state/transition_request = ""
parameters/state/current_index = 0
parameters/take_backpack/active = false
parameters/take_backpack/internal_active = false
parameters/take_backpack/request = 0

[editable path="Body/Lucas"]
[editable path="Body/Lucas/Armature/Skeleton3D/Neck/BackpackSlot/scene"]
