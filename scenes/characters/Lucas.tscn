[gd_scene load_steps=25 format=3 uid="uid://c64uyet6kxmge"]

[ext_resource type="Script" path="res://src/Core/Characters/Player.cs" id="1"]
[ext_resource type="Environment" uid="uid://c2tgto0rwklep" path="res://default_env.tres" id="1_6p4mq"]
[ext_resource type="PackedScene" uid="uid://03a6w53ynugn" path="res://models/characters/Lucas/Lucas.glb" id="2"]
[ext_resource type="Script" path="res://src/Core/Characters/SkeletonIK.cs" id="3"]
[ext_resource type="Script" path="res://src/Core/Audio/SfxOptions.cs" id="4"]
[ext_resource type="PackedScene" uid="uid://oy5ah1pbt6f1" path="res://models/grey_backpack/scene.gltf" id="5"]
[ext_resource type="PackedScene" uid="uid://bhbtygjub26k7" path="res://scenes/Phone.tscn" id="5_w24i4"]
[ext_resource type="PackedScene" path="res://scenes/characters/FootstepSensor.tscn" id="6"]
[ext_resource type="Resource" path="res://resources/player_screams.tres" id="7"]
[ext_resource type="Resource" path="res://resources/punch_streams.tres" id="8"]
[ext_resource type="PackedScene" uid="uid://cpib7g37qi4w2" path="res://scenes/vfx/BloodHitParticles.tscn" id="9"]
[ext_resource type="Resource" path="res://resources/player_pain_scream_streams.tres" id="10"]
[ext_resource type="AnimationNodeBlendTree" uid="uid://b2wsqwobrspca" path="res://assets/animations/LucasBlendAnimations.tres" id="11_0cuh3"]

[sub_resource type="CapsuleShape3D" id="21"]
radius = 2.78499
height = 18.4069

[sub_resource type="CapsuleShape3D" id="34"]
radius = 2.78499
height = 9.76339

[sub_resource type="Animation" id="33"]
resource_name = "shoot_pistol_recoil"
length = 0.25
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("LookAtAim:rotation_degrees")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0.00493959, 0.0386935, 0.248626),
"transitions": PackedFloat32Array(1, 1, 1),
"update": 0,
"values": [Vector3(4.02173, 84.6213, 88.9135), Vector3(2.22339, 83.6649, 71.4924), Vector3(4.02173, 84.6213, 88.9135)]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_4fs1d"]
_data = {
"shoot_pistol_recoil": SubResource("33")
}

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_05w81"]
radius = 1.72177
height = 6.99342

[sub_resource type="StandardMaterial3D" id="22"]
albedo_color = Color(0.185791, 0.09375, 1, 1)

[sub_resource type="BoxMesh" id="23"]
size = Vector3(0.4, 0.4, 5)

[sub_resource type="StandardMaterial3D" id="24"]
albedo_color = Color(0.0117647, 0.258824, 1, 1)

[sub_resource type="PrismMesh" id="25"]
size = Vector3(1, 1, 0.5)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_5q1sc"]
cull_mode = 2
albedo_color = Color(1, 0.32549, 0.678431, 1)

[sub_resource type="PlaneMesh" id="PlaneMesh_tbidq"]
size = Vector2(8, 17)
subdivide_width = 10
subdivide_depth = 20

[node name="Lucas" type="Node3D"]

[node name="Head" type="Marker3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 16.031, 0)

[node name="LookAt" type="Marker3D" parent="Head"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.55759, 7.36121)

[node name="Camera3D" type="Camera3D" parent="Head"]
transform = Transform3D(-1, 0, 8.74228e-08, 0, 1, 0, -8.74228e-08, 0, -1, -3.11192, 0.441399, -4.73348)
cull_mask = 1048063
environment = ExtResource("1_6p4mq")
current = true
fov = 80.0
far = 350.0

[node name="SpotLight3D" type="SpotLight3D" parent="Head"]
transform = Transform3D(-0.987876, 0, -0.155245, 0, 1, 0, 0.155245, 0, -0.987876, -5.59378, -1.20752, -17.5331)
light_energy = 3.0
light_cull_mask = 4293918722
spot_range = 26.2729
spot_angle = 40.191

[node name="Body" type="CharacterBody3D" parent="."]
collision_layer = 1025
collision_mask = 16397
script = ExtResource("1")
animationTreePath = NodePath("AnimationTree")
speed = 4.5
sprintSpeedMultiplier = 3.2
crouchSpeedMultiplier = 0.75
jumpVelocity = 65.0
cameraPath = NodePath("../Head/Camera3D")
lookAtPath = NodePath("../Head/LookAt")
skeletonIkRightHandPath = NodePath("Lucas/Armature/Skeleton3D/SkeletonIKRightHand")
skeletonIkRightHandCodePath = NodePath("Lucas/Armature/Skeleton3D/SkeletonIKRightHandCode")
skeletonIkLeftHandPath = NodePath("Lucas/Armature/Skeleton3D/SkeletonIKLeftHand")
lookAtRightPath = NodePath("Pivot/LookAtRight")
pivotPath = NodePath("Pivot")
lookAtAimPath = NodePath("Pivot/LookAtAim")
lookAtHeadPath = NodePath("Lucas/Armature/Skeleton3D/Spine/LookAtHead")
itemSlotRightPath = NodePath("Lucas/Armature/Skeleton3D/RightHand/WeaponSlot")
handPivotsAnimPlayerPath = NodePath("Pivot/HandPivotAnims")
buttBlowingTime = 2.45
knifeAttackTime = 2.0
standShapePath = NodePath("Stand")
crouchShapePath = NodePath("Crouch")
verticalDisplacementCrouch = 1.5
aimRayPath = NodePath("Pivot/AimRay")
topRayPath = NodePath("RayCastsOrigin/Top")
bottomRayPath = NodePath("RayCastsOrigin/Bottom")
rightRayPath = NodePath("RayCastsOrigin/Right")
leftRayPath = NodePath("RayCastsOrigin/Left")
forwardRayPath = NodePath("RayCastsOrigin/Forward")
backwardRayPath = NodePath("RayCastsOrigin/Backward")
clipPivotPath = NodePath("Lucas/Armature/Skeleton3D/LeftHand/ClipPivot")
lightLevelPosPath = NodePath("Pivot/LightLevelPos")
phonePath = NodePath("Lucas/Armature/Skeleton3D/Spine/FlashlightSlot/Phone")
flashLightSlotPath = NodePath("Lucas/Armature/Skeleton3D/Spine/FlashlightSlot")
flashLightHandSlotPath = NodePath("Lucas/Armature/Skeleton3D/RightHand/FlashlightSlot")
defaultStaminaVariation = 0.001
cooldownRegenerateStamine = 2.0
collisionMaskItemsRay = 49312
backpackPath = NodePath("Lucas/Armature/Skeleton3D/Neck/BackpackSlot/scene")
neckBackpackSlotPath = NodePath("Lucas/Armature/Skeleton3D/Neck/BackpackSlot")
handBackpackSlotPath = NodePath("Lucas/Armature/Skeleton3D/LeftHand2/BackpackSlot")
sfxPath = NodePath("Sfx")
bloodParticles = ExtResource("9")

[node name="Stand" type="CollisionShape3D" parent="Body"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 9.30392, 0)
shape = SubResource("21")

[node name="Crouch" type="CollisionShape3D" parent="Body"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 4.95872, 0)
shape = SubResource("34")
disabled = true

[node name="Pivot" type="Marker3D" parent="Body"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 16.3472, 0)

[node name="AimRay" type="RayCast3D" parent="Body/Pivot"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 1.64841)
target_position = Vector3(0, 0, 7)
collision_mask = 12
debug_shape_custom_color = Color(0.905882, 0, 0, 1)
debug_shape_thickness = 5

[node name="LookAtRight" type="Marker3D" parent="Body/Pivot"]
transform = Transform3D(0.15311, 0.106969, 0.982402, 0.961209, -0.24691, -0.122923, 0.229415, 0.963117, -0.140624, -2.94814, -3.26753, 4.00611)

[node name="LookAtLeft" type="Marker3D" parent="Body/Pivot"]
transform = Transform3D(0.0188783, -0.837862, -0.545556, -0.9722, 0.111988, -0.205633, 0.233388, 0.534272, -0.812455, 0.444237, -1.65241, 3.8607)

[node name="LookAtAim" type="Marker3D" parent="Body/Pivot"]
transform = Transform3D(0.0715908, -0.0923972, 0.993143, 0.997356, 0.0189152, -0.0701347, -0.0123053, 0.995541, 0.0935073, -2.29271, -0.195612, 3.22944)

[node name="InverseLookAtAim" type="Marker3D" parent="Body/Pivot/LookAtAim"]
transform = Transform3D(1, -9.31323e-10, -4.00469e-08, -1.86265e-09, 1, 2.98023e-08, 2.20025e-08, -8.9407e-08, 1, 1.96105, -9.76356, 4.60624)

[node name="LeftHandPistol" type="Marker3D" parent="Body/Pivot/LookAtAim"]
transform = Transform3D(-0.832238, 0.0104354, 0.554338, -0.404292, 0.672772, -0.619634, -0.379403, -0.739785, -0.555681, -0.194222, 0.0363047, 0.447752)

[node name="LightLevelPos" type="Marker3D" parent="Body/Pivot"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 2.27516, 0)

[node name="HandPivotAnims" type="AnimationPlayer" parent="Body/Pivot"]
libraries = {
"": SubResource("AnimationLibrary_4fs1d")
}

[node name="RigidBody3D" type="RigidBody3D" parent="Body/Pivot"]
collision_layer = 8388608
collision_mask = 0
freeze = true

[node name="CollisionShape3D" type="CollisionShape3D" parent="Body/Pivot/RigidBody3D"]
transform = Transform3D(-4.37114e-08, -1, 0, 1, -4.37114e-08, 0, 0, 0, 1, 0, -2.61416, -0.720558)
shape = SubResource("CapsuleShape3D_05w81")

[node name="Lucas" parent="Body" instance=ExtResource("2")]
transform = Transform3D(0.11, 0, 0, 0, 0.11, 0, 0, 0, 0.11, 0, 0.321507, 0)

[node name="Skeleton3D" parent="Body/Lucas/Armature" index="0"]
bones/0/position = Vector3(31.102, 105.244, -8833.08)
bones/0/rotation = Quaternion(-0.725723, -0.0137823, -0.0109256, 0.687762)
bones/1/position = Vector3(2.81236e-05, 1006.05, -122.966)
bones/1/rotation = Quaternion(-0.0495373, 0.00109274, -0.00364991, 0.998765)
bones/2/position = Vector3(2.39396e-06, 1182.47, -7.62966e-06)
bones/2/rotation = Quaternion(0.0137121, -0.0176608, -0.00532308, 0.999736)
bones/3/position = Vector3(-3.7256e-05, 1351.39, 9.1546e-05)
bones/3/rotation = Quaternion(0.0139013, -0.0175765, -0.00486394, 0.999737)
bones/4/position = Vector3(1.83213e-06, 1520.31, 0.000105756)
bones/4/rotation = Quaternion(0.0812867, 0.00623981, -0.00346137, 0.996665)
bones/5/position = Vector3(-5.48265e-05, 686.214, 265.073)
bones/5/rotation = Quaternion(0.053237, -0.0122764, 0.0303976, 0.998044)
bones/6/position = Vector3(2.22897e-05, 2159.22, 834.073)
bones/7/position = Vector3(595.524, 1340.67, -20.8466)
bones/7/rotation = Quaternion(0.55853, 0.432958, -0.568825, 0.42075)
bones/8/position = Vector3(3.48112e-05, 1249.63, -0.00147414)
bones/8/rotation = Quaternion(0.489359, 0.139518, 0.0338015, 0.860186)
bones/9/position = Vector3(3.9683e-05, 2250.38, 0.000466739)
bones/9/rotation = Quaternion(0.0289561, -0.00371732, 0.239738, 0.970399)
bones/10/position = Vector3(-0.000120928, 2525.99, -0.00033059)
bones/10/rotation = Quaternion(0.0893035, 0.125759, -0.17244, 0.972869)
bones/11/position = Vector3(-220.086, 286.298, 136.77)
bones/11/rotation = Quaternion(0.142, -0.0430208, 0.176549, 0.973045)
bones/12/position = Vector3(-4.9028, 308.88, 0.00012354)
bones/12/rotation = Quaternion(0.00919003, -0.0232602, -0.0482951, 0.99852)
bones/13/position = Vector3(17.9836, 299.185, -0.000760929)
bones/13/rotation = Quaternion(-0.0313877, 0.00108197, -0.0486485, 0.998322)
bones/14/position = Vector3(-13.081, 259.404, 0.00154997)
bones/15/position = Vector3(-281.165, 915.961, -3.98555)
bones/15/rotation = Quaternion(0.170715, 0.00692968, 0.0452334, 0.984257)
bones/16/position = Vector3(0.326589, 265.622, 0.000915051)
bones/16/rotation = Quaternion(0.303442, -0.000760911, -0.0306344, 0.952357)
bones/17/position = Vector3(1.04683, 244.744, -0.00140136)
bones/17/rotation = Quaternion(0.150413, 0.000234442, -0.0210317, 0.9884)
bones/18/position = Vector3(-1.37431, 223.404, -0.00405502)
bones/19/position = Vector3(-95.4672, 933.785, -21.83)
bones/19/rotation = Quaternion(0.212222, 0.00877282, 0.0323687, 0.976646)
bones/20/position = Vector3(-0.241114, 293.659, -0.000766117)
bones/20/rotation = Quaternion(0.20646, -8.37464e-05, -0.0211257, 0.978227)
bones/21/position = Vector3(0.47432, 273.34, -4.0396e-05)
bones/21/rotation = Quaternion(0.129487, -6.12436e-05, -0.0153613, 0.991462)
bones/22/position = Vector3(-0.232968, 247.449, 0.00159042)
bones/23/position = Vector3(94.7507, 953.403, -13.9259)
bones/23/rotation = Quaternion(0.259851, 0.00898803, 0.0324877, 0.96506)
bones/24/position = Vector3(-1.08507, 261.414, 0.000223202)
bones/24/rotation = Quaternion(0.150631, 0.000718791, -0.0168264, 0.988447)
bones/25/position = Vector3(-1.2659, 252.185, -0.000719656)
bones/25/rotation = Quaternion(0.0965884, 0.00014559, -0.00240862, 0.995322)
bones/26/position = Vector3(2.35107, 210.386, 0.000343323)
bones/27/position = Vector3(281.882, 877.243, 2.17968)
bones/27/rotation = Quaternion(0.348937, 0.0266729, -0.018021, 0.936593)
bones/28/position = Vector3(0.283441, 270.771, -3.58797e-05)
bones/28/rotation = Quaternion(0.186954, 0.00643141, 0.0144747, 0.982241)
bones/29/position = Vector3(0.0768851, 217.651, 0.00117231)
bones/29/rotation = Quaternion(0.0668845, 6.60773e-05, -0.00844026, 0.997725)
bones/30/position = Vector3(-0.360326, 188.591, 0.000778198)
bones/31/position = Vector3(-0.000262243, 832.565, 7.76339e-05)
bones/32/position = Vector3(-595.524, 1340.94, -23.0339)
bones/32/rotation = Quaternion(0.624508, -0.39484, 0.519589, 0.42909)
bones/33/position = Vector3(-8.68059e-05, 1249.63, -0.000886888)
bones/33/rotation = Quaternion(0.455344, -0.156414, -0.0876337, 0.872076)
bones/34/position = Vector3(-8.83225e-05, 2249.95, -0.00131713)
bones/34/rotation = Quaternion(0.031385, 0.00333507, -0.256699, 0.965976)
bones/35/position = Vector3(-0.000466078, 2524.59, 0.00134502)
bones/35/rotation = Quaternion(0.00582157, -0.0270252, 0.170793, 0.984919)
bones/36/position = Vector3(213.438, 301.094, 153.049)
bones/36/rotation = Quaternion(0.168347, -0.0838345, -0.063571, 0.980097)
bones/37/position = Vector3(17.0003, 319.184, -0.000501982)
bones/37/rotation = Quaternion(0.0221759, -0.0427918, -0.0182828, 0.998671)
bones/38/position = Vector3(-0.690164, 313.522, 0.000763481)
bones/38/rotation = Quaternion(-0.0310803, -0.000113171, -0.0393264, 0.998743)
bones/39/position = Vector3(-16.3105, 267.712, 0.00152856)
bones/40/position = Vector3(278.413, 910.196, 13.415)
bones/40/rotation = Quaternion(0.0624147, -0.00503159, -0.00899211, 0.997997)
bones/41/position = Vector3(-0.384509, 267.557, -0.000916619)
bones/41/rotation = Quaternion(0.370323, 0.00112729, 0.0390926, 0.928079)
bones/42/position = Vector3(-1.25807, 248.596, -0.00112357)
bones/42/rotation = Quaternion(0.0856394, -0.000213497, 0.0156451, 0.996203)
bones/43/position = Vector3(1.64317, 220.417, 0.00119957)
bones/44/position = Vector3(95.4696, 970.319, -15.5468)
bones/44/rotation = Quaternion(0.0980772, -0.0099289, 0.00976381, 0.995081)
bones/45/position = Vector3(1.19111, 281.675, 0.00119388)
bones/45/rotation = Quaternion(0.320502, -0.000533473, 0.0328014, 0.94668)
bones/46/position = Vector3(-0.133628, 263.698, -0.000647352)
bones/46/rotation = Quaternion(0.072608, 0.00587594, 0.00635121, 0.997323)
bones/47/position = Vector3(-1.05685, 232.499, 0.00123472)
bones/48/position = Vector3(-91.7757, 978.93, -3.71561)
bones/48/rotation = Quaternion(0.201389, -0.0152206, -0.00290896, 0.979389)
bones/49/position = Vector3(1.56584, 244.549, -0.000807467)
bones/49/rotation = Quaternion(0.266433, -0.000839666, 0.0262898, 0.963495)
bones/50/position = Vector3(0.269695, 249.622, -0.000619835)
bones/50/rotation = Quaternion(0.0892851, 0.00722749, 0.0053875, 0.995965)
bones/51/position = Vector3(-1.83587, 208.439, -0.00286376)
bones/52/position = Vector3(-282.107, 890.4, 16.2555)
bones/52/rotation = Quaternion(0.288084, -0.0255178, 0.0225267, 0.957)
bones/53/position = Vector3(0.378441, 258.589, -0.000180093)
bones/53/rotation = Quaternion(0.20506, -0.000745561, 0.0241319, 0.978452)
bones/54/position = Vector3(1.09662, 218.756, -0.000525327)
bones/54/rotation = Quaternion(0.096897, -3.98018e-07, 0.00401937, 0.995286)
bones/55/position = Vector3(-1.47525, 181.374, -0.000190735)
bones/56/position = Vector3(4.5639e-05, 848.796, -0.000505184)
bones/57/position = Vector3(700.294, -558.951, -40.0303)
bones/57/rotation = Quaternion(0.0280435, 0.0852133, 0.99512, -0.0410964)
bones/58/position = Vector3(0.000142575, 4012.74, -0.00029066)
bones/58/rotation = Quaternion(-0.272413, -0.0850296, 0.00148672, 0.958415)
bones/59/position = Vector3(-0.000106759, 3688.2, 6.57901e-05)
bones/59/rotation = Quaternion(0.637531, -0.0525897, -0.016889, 0.768442)
bones/60/position = Vector3(-0.000105696, 1542.23, 3.1974e-05)
bones/60/rotation = Quaternion(0.263344, -0.0762522, 0.0202859, 0.96147)
bones/61/position = Vector3(0.000120163, 672.27, -3.81477e-06)
bones/62/position = Vector3(-700.294, -558.952, -28.3863)
bones/62/rotation = Quaternion(-0.123906, 0.0831804, 0.987349, 0.0535687)
bones/63/position = Vector3(-0.000132815, 4010.61, 1.12943e-05)
bones/63/rotation = Quaternion(-0.233904, 0.034687, 0.00284536, 0.971637)
bones/64/position = Vector3(-0.000102274, 3689.84, 6.87195e-05)
bones/64/rotation = Quaternion(0.604578, 0.0718534, 0.031858, 0.792659)
bones/65/position = Vector3(-3.46111e-05, 1592.5, 0.000358677)
bones/65/rotation = Quaternion(0.252401, 0.079785, -0.0208388, 0.964103)
bones/66/position = Vector3(-1.90735e-05, 676.781, 2.28882e-05)

[node name="Model Lucas 1" parent="Body/Lucas/Armature/Skeleton3D" index="0"]
layers = 2

[node name="Spine" type="BoneAttachment3D" parent="Body/Lucas/Armature/Skeleton3D" index="1"]
transform = Transform3D(0.995671, 0.0608115, -0.070286, 0.0759548, -0.0965692, 0.992424, 0.0535633, -0.993467, -0.10077, 187.824, -419.856, -12337.1)
bone_name = "mixamorig_Spine2"
bone_idx = 3

[node name="LookAtHead" type="Marker3D" parent="Body/Lucas/Armature/Skeleton3D/Spine"]
transform = Transform3D(906.171, 68.0348, -25.9147, -66.3348, 904.925, 56.171, 29.9997, -54.0997, 906.983, 66.1905, 1916.6, 211.217)

[node name="FlashlightSlot" type="Node3D" parent="Body/Lucas/Armature/Skeleton3D/Spine"]
transform = Transform3D(169.62, 4.00463, 10.6274, -4.34562, 169.86, 5.3519, -10.4926, -5.61158, 169.583, 1032.8, -803.799, 1455.59)

[node name="Phone" parent="Body/Lucas/Armature/Skeleton3D/Spine/FlashlightSlot" instance=ExtResource("5_w24i4")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0)

[node name="LeftFoot" type="BoneAttachment3D" parent="Body/Lucas/Armature/Skeleton3D" index="2"]
transform = Transform3D(-0.911812, 0.387077, 0.137006, 0.379174, 0.921794, -0.0807944, -0.157565, -0.0217205, -0.987271, 1228.59, 1093.49, -97.855)
bone_name = "mixamorig_LeftToeBase"
bone_idx = 60

[node name="FootstepSensor" parent="Body/Lucas/Armature/Skeleton3D/LeftFoot" instance=ExtResource("6")]
playerPath = NodePath("../../../../..")
foot = 1

[node name="RightFoot" type="BoneAttachment3D" parent="Body/Lucas/Armature/Skeleton3D" index="3"]
transform = Transform3D(-0.856349, -0.498676, -0.134122, -0.489691, 0.866648, -0.0956263, 0.163923, -0.0162154, -0.986341, -1985.16, 1299.36, -97.8499)
bone_name = "mixamorig_RightToeBase"
bone_idx = 65

[node name="FootstepSensor" parent="Body/Lucas/Armature/Skeleton3D/RightFoot" instance=ExtResource("6")]
playerPath = NodePath("../../../../..")

[node name="Neck" type="BoneAttachment3D" parent="Body/Lucas/Armature/Skeleton3D" index="4"]
transform = Transform3D(0.995671, 0.0608115, -0.070286, 0.0759548, -0.0965692, 0.992424, 0.0535633, -0.993467, -0.10077, 187.824, -419.856, -12337.1)
bone_name = "mixamorig_Spine2"
bone_idx = 3

[node name="BackpackSlot" type="Marker3D" parent="Body/Lucas/Armature/Skeleton3D/Neck"]
transform = Transform3D(-1318.68, 420.436, 7879.38, -2418.01, 7582.77, -809.285, -7510.96, -2514.94, -1122.83, -77, -2974.79, -827.641)

[node name="scene" parent="Body/Lucas/Armature/Skeleton3D/Neck/BackpackSlot" instance=ExtResource("5")]

[node name="backback_Material_0" parent="Body/Lucas/Armature/Skeleton3D/Neck/BackpackSlot/scene/Sketchfab_model/backpackfbx/RootNode/backback" index="0"]
layers = 2

[node name="RightHand" type="BoneAttachment3D" parent="Body/Lucas/Armature/Skeleton3D" index="5"]
transform = Transform3D(0.0715908, -0.0923973, 0.993145, -0.0123054, 0.995542, 0.0935074, -0.997358, -0.0189153, 0.0701347, -2084.28, 2935.85, -14391)
bone_name = "mixamorig_RightHand"
bone_idx = 35

[node name="WeaponSlot" type="Node3D" parent="Body/Lucas/Armature/Skeleton3D/RightHand"]
transform = Transform3D(-4.72069e-05, 1200, 5.34058e-05, 3.05176e-05, -5.34058e-05, 1200, 1200, 6.24657e-05, -1.52588e-05, 426.107, 1341.77, 213.465)

[node name="FlashlightSlot" type="Node3D" parent="Body/Lucas/Armature/Skeleton3D/RightHand"]
transform = Transform3D(8.55636, 168.516, -20.721, 4.76837e-06, 20.7473, 168.73, 169.785, -8.49243, 1.04424, 39.9639, 1211.93, 523.841)

[node name="LeftHand" type="BoneAttachment3D" parent="Body/Lucas/Armature/Skeleton3D" index="6"]
transform = Transform3D(0.628741, -0.744569, -0.224279, -0.773291, -0.568303, -0.281161, 0.0818854, 0.350211, -0.933084, 1946.08, 817.563, -7402.93)
bone_name = "mixamorig_LeftHandIndex4"
bone_idx = 18

[node name="ClipPivot" type="Marker3D" parent="Body/Lucas/Armature/Skeleton3D/LeftHand"]
transform = Transform3D(-225.003, -578.578, -783.978, -954.303, 293.264, 57.4563, 196.67, 761.08, -618.125, 279.119, -286.729, 14.543)

[node name="LeftHand2" type="BoneAttachment3D" parent="Body/Lucas/Armature/Skeleton3D" index="7"]
transform = Transform3D(0.571314, -0.000266932, -0.820731, -0.81841, 0.074977, -0.569723, 0.061688, 0.997185, 0.042617, 2520.59, 761.292, -8776.66)
bone_name = "mixamorig_LeftHand"
bone_idx = 10

[node name="BackpackSlot" type="Marker3D" parent="Body/Lucas/Armature/Skeleton3D/LeftHand2"]
transform = Transform3D(4462.58, 21.0363, 6639.69, -1801.6, -7696.03, 1235.25, 6390.62, -2184.29, -4288.25, 161.622, 4773.22, 1090.14)

[node name="SkeletonIKRightHand" type="SkeletonIK3D" parent="Body/Lucas/Armature/Skeleton3D" index="8"]
process_priority = 1
root_bone = &"mixamorig_RightArm"
tip_bone = &"mixamorig_RightHand"
interpolation = 0.0
use_magnet = true
magnet = Vector3(-12000, 0, 10000)
target_node = NodePath("../../../../Pivot/LookAtRight")
min_distance = 10.0
max_iterations = 15
script = ExtResource("3")

[node name="SkeletonIKRightHandCode" type="SkeletonIK3D" parent="Body/Lucas/Armature/Skeleton3D" index="9"]
process_priority = 1
root_bone = &"mixamorig_RightArm"
tip_bone = &"mixamorig_RightHand"
use_magnet = true
magnet = Vector3(-12000, 0, 0)
target_node = NodePath("../../../../Pivot/LookAtAim")
script = ExtResource("3")

[node name="SkeletonIKLeftHand" type="SkeletonIK3D" parent="Body/Lucas/Armature/Skeleton3D" index="10"]
process_priority = 1
root_bone = &"mixamorig_LeftArm"
tip_bone = &"mixamorig_LeftHand"
interpolation = 0.0
use_magnet = true
magnet = Vector3(60000, 0, 30000)
target_node = NodePath("../../../../Pivot/LookAtAim/LeftHandPistol")
script = ExtResource("3")

[node name="SkeletonIKNeck" type="SkeletonIK3D" parent="Body/Lucas/Armature/Skeleton3D" index="11"]
process_priority = 1
root_bone = &"mixamorig_Neck"
tip_bone = &"mixamorig_Head"
use_magnet = true
target_node = NodePath("../Spine/LookAtHead")
script = ExtResource("3")

[node name="DebugDirection" type="Node3D" parent="Body"]
visible = false

[node name="CSGMesh3D" type="CSGMesh3D" parent="Body/DebugDirection"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 10.8735, 5.77634)
material_override = SubResource("22")
mesh = SubResource("23")

[node name="CSGMesh2" type="CSGMesh3D" parent="Body/DebugDirection"]
transform = Transform3D(1, 0, 0, 0, -4.37114e-08, -1, 0, 1, -4.37114e-08, 0, 10.8735, 8.70304)
material_override = SubResource("24")
mesh = SubResource("25")

[node name="RayCastsOrigin" type="Marker3D" parent="Body"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 6.6971, 0)

[node name="Bottom" type="RayCast3D" parent="Body/RayCastsOrigin"]
target_position = Vector3(0, -15, 0)
collision_mask = 8
debug_shape_custom_color = Color(1, 0, 0, 1)
debug_shape_thickness = 5

[node name="Top" type="RayCast3D" parent="Body/RayCastsOrigin"]
target_position = Vector3(0, 150, 0)
collision_mask = 12
debug_shape_custom_color = Color(0.921569, 0, 1, 1)
debug_shape_thickness = 5

[node name="Right" type="RayCast3D" parent="Body/RayCastsOrigin"]
target_position = Vector3(-150, 0, 0)
collision_mask = 12
debug_shape_custom_color = Color(0.992157, 1, 0.027451, 1)
debug_shape_thickness = 5

[node name="Left" type="RayCast3D" parent="Body/RayCastsOrigin"]
target_position = Vector3(150, -1, 0)
collision_mask = 12
debug_shape_custom_color = Color(0, 0.0156863, 1, 1)

[node name="Forward" type="RayCast3D" parent="Body/RayCastsOrigin"]
target_position = Vector3(0, 0, 150)
collision_mask = 12
debug_shape_custom_color = Color(0.0431373, 1, 0.12549, 1)

[node name="Backward" type="RayCast3D" parent="Body/RayCastsOrigin"]
target_position = Vector3(0, 0, -150)
collision_mask = 12
debug_shape_custom_color = Color(0, 0.952941, 1, 1)

[node name="Sfx" type="Node3D" parent="Body"]
script = ExtResource("4")
streamsCategory = {
"pain_scream": ExtResource("10"),
"punch": ExtResource("8"),
"scream": ExtResource("7")
}

[node name="AnimationTree" type="AnimationTree" parent="Body"]
tree_root = ExtResource("11_0cuh3")
anim_player = NodePath("../Lucas/AnimationPlayer")
active = true
parameters/blend/blend_amount = 0
parameters/blend_crouch/blend_amount = 0.0
parameters/blend_knife/blend_amount = 0
parameters/blend_pistol_aim/blend_amount = 0.0
parameters/butt_blow_pistol/active = false
parameters/butt_blow_pistol/request = 0
parameters/crouch_motion_blend/blend_position = Vector2(0, 0)
parameters/idle_backpack/blend_amount = 0.0
parameters/knife_attack/active = false
parameters/knife_attack/request = 0
parameters/motion_blend/blend_amount = 0
parameters/motion_blend_space/blend_position = Vector2(0, 0)
parameters/reload_pistol/active = false
parameters/reload_pistol/request = 0
parameters/shot_pistol/active = false
parameters/shot_pistol/request = 0
parameters/state/current_state = "default"
parameters/state/transition_request = ""
parameters/state/current_index = 0
parameters/take_backpack/active = false
parameters/take_backpack/request = 0

[node name="SoftBody3D" type="SoftBody3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 0.145651, 0.989336, 0, -0.989336, 0.145651, -0.216897, 8.33274, -2.55339)
visible = false
material_override = SubResource("StandardMaterial3D_5q1sc")
mesh = SubResource("PlaneMesh_tbidq")
collision_mask = 8454157
simulation_precision = 50
linear_stiffness = 0.01
damping_coefficient = 0.03
pinned_points = [8, 3, 5, 6, 7, 4, 0, 1, 2, 9, 10, 11]
attachments/0/point_index = 8
attachments/0/spatial_attachment_path = NodePath("../Body/Lucas/Armature/Skeleton3D/Neck")
attachments/0/offset = Vector3(-1158.22, 2576.9, -260.346)
attachments/1/point_index = 3
attachments/1/spatial_attachment_path = NodePath("../Body/Lucas/Armature/Skeleton3D/Neck")
attachments/1/offset = Vector3(2121.47, 2460.71, -658.271)
attachments/2/point_index = 5
attachments/2/spatial_attachment_path = NodePath("../Body/Lucas/Armature/Skeleton3D/Neck")
attachments/2/offset = Vector3(809.592, 2507.18, -499.101)
attachments/3/point_index = 6
attachments/3/spatial_attachment_path = NodePath("../Body/Lucas/Armature/Skeleton3D/Neck")
attachments/3/offset = Vector3(153.654, 2530.42, -419.516)
attachments/4/point_index = 7
attachments/4/spatial_attachment_path = NodePath("../Body/Lucas/Armature/Skeleton3D/Neck")
attachments/4/offset = Vector3(-502.284, 2553.66, -339.931)
attachments/5/point_index = 4
attachments/5/spatial_attachment_path = NodePath("../Body/Lucas/Armature/Skeleton3D/Neck")
attachments/5/offset = Vector3(1465.53, 2483.94, -578.686)
attachments/6/point_index = 0
attachments/6/spatial_attachment_path = NodePath("../Body/Lucas/Armature/Skeleton3D/Neck")
attachments/6/offset = Vector3(4089.28, 2390.99, -897.027)
attachments/7/point_index = 1
attachments/7/spatial_attachment_path = NodePath("../Body/Lucas/Armature/Skeleton3D/Neck")
attachments/7/offset = Vector3(3433.34, 2414.23, -817.442)
attachments/8/point_index = 2
attachments/8/spatial_attachment_path = NodePath("../Body/Lucas/Armature/Skeleton3D/Neck")
attachments/8/offset = Vector3(2777.41, 2437.47, -737.856)
attachments/9/point_index = 9
attachments/9/spatial_attachment_path = NodePath("../Body/Lucas/Armature/Skeleton3D/Neck")
attachments/9/offset = Vector3(-1814.16, 2600.13, -180.761)
attachments/10/point_index = 10
attachments/10/spatial_attachment_path = NodePath("../Body/Lucas/Armature/Skeleton3D/Neck")
attachments/10/offset = Vector3(-2470.1, 2623.37, -101.176)
attachments/11/point_index = 11
attachments/11/spatial_attachment_path = NodePath("../Body/Lucas/Armature/Skeleton3D/Neck")
attachments/11/offset = Vector3(-3126.04, 2646.61, -21.5903)

[editable path="Body/Lucas"]
[editable path="Body/Lucas/Armature/Skeleton3D/Neck/BackpackSlot/scene"]
